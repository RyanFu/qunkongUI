(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-911b81aa","chunk-2d22c475"],{"171e":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Table",{attrs:{size:"mini",data:t.tasks}},[n("TableColumn",{attrs:{prop:"id",label:"Id"}}),n("TableColumn",{attrs:{prop:"title",label:"标题"}}),n("TableColumn",{attrs:{prop:"doc",label:"说明"}}),n("TableColumn",{attrs:{label:"循环次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("Input",{staticStyle:{width:"80px"},attrs:{size:"mini"},model:{value:e.row.count,callback:function(n){t.$set(e.row,"count",n)},expression:"r.row.count"}}),n("Button",{attrs:{size:"mini"},on:{click:function(n){return t.run(e)}}},[t._v("添加到队列")])]}}])}),n("TableColumn",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("Button",{attrs:{size:"mini"},on:{click:function(n){return t.edit(e.row)}}},[t._v("编辑")]),n("Button",{attrs:{size:"mini"},on:{click:function(n){return t.del(e.row)}}},[t._v("删除")])]}}])})],1),n("div",[n("Button",{on:{click:t.startAll}},[t._v("开始任务")]),n("Button",{on:{click:t.stopAll}},[t._v("暂停任务")]),n("Button",{on:{click:t.clearAll}},[t._v("清除任务")])],1),n("Pagination",{attrs:{total:t.total,layout:"prev, pager, next, jumper, ->, total","page-size":t.size},on:{"current-change":t.page}})],1)},a=[],o=(n("c975"),n("a434"),n("5c96")),i=(n("f30b"),{name:"taskList",components:{TableColumn:o["TableColumn"],Table:o["Table"],Input:o["Input"],Button:o["Button"],Pagination:o["Pagination"]},data:function(){return{total:0,size:10,tasks:[]}},created:function(){this.page(1)},methods:{run:function(t){var e=this,n={devices:this.$store.state.SelectDevice,count:t.row.count,taskId:t.row.id};n.devices.length<1?this.$message("没有手机参与任务"):n.count<1?this.$message("循环任务 次数必须大于1"):this.$axios.post("/task/run",n).then((function(t){200==t.status&&e.$message("添加到队列")}))},startAll:function(){var t=this;this.$axios.get("/task/startAll").then((function(e){200==e.status&&t.$message("操作成功")}))},stopAll:function(){var t=this;this.$axios.get("/task/stopAll").then((function(e){200==e.status&&t.$message("操作成功")}))},clearAll:function(){var t=this;this.$axios.get("/task/clearAll").then((function(e){200==e.status&&t.$message("操作成功")}))},page:function(t){var e=this;t-=1,this.$axios.get("/task/page/"+t).then((function(t){e.tasks=t.data.content,e.total=t.data.totalElements,e.size=t.data.size}))},del:function(t){var e=this;this.$axios.get("task/del/"+t.id).then((function(n){200==n.status&&(e.tasks.splice(e.tasks.indexOf(t),1),e.$message("删除成功"))}))},edit:function(t){this.$router.push({path:"/task"}),this.$store.state.task=t}}}),r=i,l=n("2877"),c=Object(l["a"])(r,s,a,!1,null,"f069759e",null);e["default"]=c.exports},"1dde":function(t,e,n){var s=n("d039"),a=n("b622"),o=a("species");t.exports=function(t){return!s((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,n){var s=n("861d"),a=n("e8b5"),o=n("b622"),i=o("species");t.exports=function(t,e){var n;return a(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?s(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},8418:function(t,e,n){"use strict";var s=n("c04e"),a=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var i=s(e);i in t?a.f(t,i,o(0,n)):t[i]=n}},a434:function(t,e,n){"use strict";var s=n("23e7"),a=n("23cb"),o=n("a691"),i=n("50c4"),r=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),p=Math.max,d=Math.min,f=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var n,s,u,h,v,k,x=r(this),b=i(x.length),$=a(t,b),g=arguments.length;if(0===g?n=s=0:1===g?(n=0,s=b-$):(n=g-2,s=d(p(o(e),0),b-$)),b+n-s>f)throw TypeError(m);for(u=l(x,s),h=0;h<s;h++)v=$+h,v in x&&c(u,h,x[v]);if(u.length=s,n<s){for(h=$;h<b-s;h++)v=h+s,k=h+n,v in x?x[k]=x[v]:delete x[k];for(h=b;h>b-s+n;h--)delete x[h-1]}else if(n>s)for(h=b-s;h>$;h--)v=h+s-1,k=h+n-1,v in x?x[k]=x[v]:delete x[k];for(h=0;h<n;h++)x[h+$]=arguments[h+2];return x.length=b-s+n,u}})},b301:function(t,e,n){"use strict";var s=n("d039");t.exports=function(t,e){var n=[][t];return!n||!s((function(){n.call(null,e||function(){throw 1},1)}))}},c975:function(t,e,n){"use strict";var s=n("23e7"),a=n("4d64").indexOf,o=n("b301"),i=[].indexOf,r=!!i&&1/[1].indexOf(1,-0)<0,l=o("indexOf");s({target:"Array",proto:!0,forced:r||l},{indexOf:function(t){return r?i.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,n){var s=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},f30b:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Form",{attrs:{size:"mini","label-width":"auto","label-postion":"right"}},[n("FormItem",{staticStyle:{width:"250px"},attrs:{model:t.$store.state.task,label:"标题"}},[n("Input",{model:{value:t.$store.state.task.title,callback:function(e){t.$set(t.$store.state.task,"title",e)},expression:"$store.state.task.title"}})],1),n("FormItem",{attrs:{label:"任务描述"}},[n("Input",{staticStyle:{width:"250px"},model:{value:t.$store.state.task.doc,callback:function(e){t.$set(t.$store.state.task,"doc",e)},expression:"$store.state.task.doc"}})],1),n("FormItem",{attrs:{label:"动作"}},[n("Row",{staticStyle:{"min-height":"200px",border:"1px solid #ccc",padding:"10px"}},t._l(t.$store.state.task.tasks,(function(e,s){return n("span",[n("div",[n("Input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.title,callback:function(n){t.$set(e,"title",n)},expression:"a.title"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("名称")])]),n("Input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.action,callback:function(n){t.$set(e,"action",n)},expression:"a.action"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("类型")])]),n("Input",{staticStyle:{width:"250px"},attrs:{size:"mini"},model:{value:e.context,callback:function(n){t.$set(e,"context",n)},expression:"a.context"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("执行内容")])]),n("Input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.sleep,callback:function(n){t.$set(e,"sleep",n)},expression:"a.sleep"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("延迟执行")])]),n("e_Switch",{attrs:{"inactive-text":"随机"},model:{value:e.random,callback:function(n){t.$set(e,"random",n)},expression:"a.random"}}),n("Input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.sort,callback:function(n){t.$set(e,"sort",n)},expression:"a.sort"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("排序")])]),n("Tag",{attrs:{size:"mini"},on:{click:function(e){return t.$store.state.task.tasks.splice(s,1)}}},[t._v("x")])],1)])})),0)],1),n("FormItem",[n("Button",{attrs:{type:"primary",size:"mini"},on:{click:t.add}},[t._v("保存")])],1)],1)],1)},a=[],o=n("5c96"),i={name:"tasks",components:{Button:o["Button"],FormItem:o["FormItem"],Form:o["Form"],Input:o["Input"],Select:o["Select"],Option:o["Option"],Tag:o["Tag"],Row:o["Row"],e_Switch:o["Switch"]},data:function(){return{}},computed:{},created:function(){},methods:{add:function(){var t=this;this.$axios.post("/task/add",this.$store.state.task).then((function(e){200==e.status&&t.$message("保存成功")}))}}},r=i,l=n("2877"),c=Object(l["a"])(r,s,a,!1,null,"e94a9068",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-911b81aa.e1e12d20.js.map