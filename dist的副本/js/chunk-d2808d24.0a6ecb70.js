(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2808d24"],{1212:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"custom-tree-container"},[a("Tree",{attrs:{props:t.key,load:t.lodeNode,lazy:"","show-checkbox":"","expand-on-click-node":!1},on:{check:t.handleCheckChange},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var o=e.data;return a("div",{staticClass:"custom-tree-node"},[a("span",[t._v(t._s(o.name))]),o.dir?a("div",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:o.mkdirPath,callback:function(e){t.$set(o,"mkdirPath",e)},expression:"data.mkdirPath"}},[a("Button",{attrs:{slot:"append",size:"mini",type:"text"},on:{click:function(e){return t.addDir(o)}},slot:"append"},[t._v("添加目录")])],1),a("Button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.showUpload=!0,t.fileData.path=o.path}}},[t._v("上传文件")])],1):t._e()])}}])})],1),a("Dialog",{attrs:{visible:t.showUpload},on:{"update:visible":function(e){t.showUpload=e}}},[a("Input",[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("标签")])]),a("Upload",{ref:"upload",attrs:{action:t.$uploadUrl,multiple:"",data:t.fileData,"show-file-list":!0,"auto-upload":!1,"on-success":t.uploadOk}},[a("Button",[t._v("选择文件")])],1),a("Button",{on:{click:t.submitUpload}},[t._v("上传")])],1),a("div",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.mkdirPath.mkdirPath,callback:function(e){t.$set(t.mkdirPath,"mkdirPath",e)},expression:"mkdirPath.mkdirPath"}},[a("Button",{attrs:{slot:"append",size:"mini",type:"text"},on:{click:function(e){return t.addDir(t.mkdirPath)}},slot:"append"},[t._v("添加顶级目录")])],1)],1),a("footer",[a("Row",[a("Col",{attrs:{span:5}},[a("Select",{attrs:{size:"mini"},model:{value:t.pushMethod,callback:function(e){t.pushMethod=e},expression:"pushMethod"}},[a("Option",{attrs:{value:"random",label:"随机各一份"}}),a("Option",{attrs:{value:"order",label:"顺序"}}),a("Option",{attrs:{value:"together",label:" 都一样"}})],1)],1),a("Col",{attrs:{span:5}},[a("Select",{attrs:{size:"mini"},model:{value:t.sRpath,callback:function(e){t.sRpath=e},expression:"sRpath"}},t._l(t.Rpath,(function(t,e){return a("Option",{attrs:{value:t,label:e}})})),1)],1),a("Col",{attrs:{span:4}},[a("Button",{on:{click:t.selectFiles}},[t._v("复制到手机")])],1),a("Button",{staticClass:"item",on:{click:t.addApp}},[t._v("安装应用")])],1),a("Row",[a("Col",{attrs:{span:5}},[a("Select",{attrs:{size:"mini"},model:{value:t.sRpath,callback:function(e){t.sRpath=e},expression:"sRpath"}},t._l(t.Rpath,(function(t,e){return a("Option",{attrs:{value:t,label:e}})})),1)],1),a("Col",{attrs:{span:4}},[a("Button",{on:{click:t.createDIR}},[t._v("创建")])],1),a("Col",{attrs:{span:4}},[a("Button",{on:{click:t.restDIR}},[t._v("刷新")])],1),a("Col",{attrs:{span:4}},[a("Button",{on:{click:t.deleteFile}},[t._v("删除")])],1)],1),a("Row",[a("Col",{attrs:{span:4}},[a("Button",{on:{click:t.delContacts}},[t._v("删除手机上的联系人")])],1),a("Col",{attrs:{span:4}},[a("Button",{on:{click:t.addContacts}},[t._v("上传联系人")])],1)],1)],1)],1)},n=[],s=(a("d81d"),a("5c96")),i={name:"file",components:{Upload:s["Upload"],Button:s["Button"],Select:s["Select"],Option:s["Option"],Input:s["Input"],Tree:s["Tree"],Dialog:s["Dialog"],Row:s["Row"],Col:s["Col"],Footer:s["Footer"]},data:function(){return{pushMethod:"together",sRpath:"/sdcard/DCIM/Camera/",Rpath:{"图片":"/sdcard/Pictures/","相册":"/sdcard/DCIM/Camera/"},showUpload:!1,fileData:{path:""},key:{label:"name",isLeaf:"file"},mkdirPath:{mkdirPath:"",path:""}}},methods:{adbAction:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shell",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o={cmd:t,type:e,other:a};this.$store.dispatch("adbAction",o)},uploadOk:function(){this.showUpload=!1},handleCheckChange:function(t,e){console.log(e,t),this.$store.state.SelectFile=e.checkedNodes},addDir:function(t){var e=this;this.$axios.post("/dir/add",{path:t.path+"/"+t.mkdirPath}).then((function(a){200==a.status&&(t.mkdirPath="",e.$message("添加成功"))}))},selectFiles:function(){var t=this,e=[];this.$store.state.SelectFile.map((function(t){t.file&&e.push(t.path)}));var a={type:"push",devices:this.$store.state.SelectDevice,Rpath:this.sRpath,Lpath:e,pushMethod:this.pushMethod};this.$axios.post("/devices/push",a).then((function(e){200==e.status?t.$message("操作成功"):t.$message("error")}))},delContacts:function(){var t=this;this.$confirm("确认是否删除").then((function(){var e={type:"shell",cmd:"pm clear com.android.providers.contacts"};t.$store.dispatch("adbAction",e)}))},addContacts:function(){var t=this,e={devices:this.$store.state.SelectDevice};this.$axios.post("/clientAccount/addContacts",e).then((function(e){"200"==e.status&&t.$message("执行成功")}))},submitUpload:function(){this.$refs.upload.submit()},addApp:function(){var t=this,e={devices:this.$store.state.SelectDevice,appPath:""};this.$store.state.SelectFile.map((function(a){a.file&&(e["appPath"]=a.path,t.$axios.post("/devices/install",e))}))},lodeNode:function(t,e){var a="/dir";t.level>0&&(a=a+"?path="+t.data.path),this.$axios.get(a).then((function(t){e(t.data)}))},deleteFile:function(){var t={type:"shell",cmd:" rm -rf "+this.sRpath+"*"};this.$store.dispatch("adbAction",t)},createDIR:function(){var t={type:"shell",cmd:" mkdir "+this.sRpath};this.$store.dispatch("adbAction",t)},restDIR:function(){var t={type:"shell",cmd:"am broadcast -a android.intent.action.MEDIA_MOUNTED -d "+this.sRpath};this.$store.dispatch("adbAction",t)}}},r=i,c=(a("d500"),a("2877")),l=Object(c["a"])(r,o,n,!1,null,"69a96253",null);e["default"]=l.exports},"1dde":function(t,e,a){var o=a("d039"),n=a("b622"),s=n("species");t.exports=function(t){return!o((function(){var e=[],a=e.constructor={};return a[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,a){var o=a("861d"),n=a("e8b5"),s=a("b622"),i=s("species");t.exports=function(t,e){var a;return n(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?o(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},b727:function(t,e,a){var o=a("f8c2"),n=a("44ad"),s=a("7b0b"),i=a("50c4"),r=a("65f0"),c=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,d=4==t,p=6==t,u=5==t||p;return function(h,f,v,m){for(var k,b,C=s(h),$=n(C),y=o(f,v,3),R=i($.length),x=0,w=m||r,_=e?w(h,R):a?w(h,0):void 0;R>x;x++)if((u||x in $)&&(k=$[x],b=y(k,x,C),t))if(e)_[x]=b;else if(b)switch(t){case 3:return!0;case 5:return k;case 6:return x;case 2:c.call(_,k)}else if(d)return!1;return p?-1:l||d?d:_}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c6ae:function(t,e,a){},d500:function(t,e,a){"use strict";var o=a("c6ae"),n=a.n(o);n.a},d81d:function(t,e,a){"use strict";var o=a("23e7"),n=a("b727").map,s=a("1dde");o({target:"Array",proto:!0,forced:!s("map")},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,a){var o=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=chunk-d2808d24.0a6ecb70.js.map